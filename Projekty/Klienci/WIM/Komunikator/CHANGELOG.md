# CHANGELOG ‚Äì Komunikator

---

## 2025-11-27 | Planowanie Sprintu
**≈πr√≥d≈Ço:** [Notatki/Gotowe-notatki-w-trakcie/2025-11-27 Planowanie sprintu.md]
**Kategoria:** #Status #Funkcjonalno≈õƒá

- Status bie≈ºƒÖcy: Komunikator zosta≈Ç skonfigurowany i dzia≈Ça bez uwag ze strony klienta.
- Wzmianka: Funkcjonalno≈õƒá komunikatora jest istotna, zw≈Çaszcza w kontek≈õcie powiadomie≈Ñ.

---

## 2025-11-21 | Planowanie Sprintu
**≈πr√≥d≈Ço:** [Notatki/Gotowe-notatki-archiwum/2025-11-21 Planowanie sprintu.md]
**Kategoria:** #Funkcjonalno≈õƒá #Postƒôp

- Komunikator (WIM) uko≈Ñczony, potwierdzone dzia≈Çanie u klienta.
- Oczekujemy na uwagi od klienta.

---

## 2025-11-25 | Notatka projektowa - Roadmapa 2026 i Strategia Wdro≈ºeniowa
**≈πr√≥d≈Ço:** [Notatki/Gotowe-notatki-w-trakcie/2025-11-25 Notatka projektowa - Roadmapa 2026 i Strategia Wdro≈ºeniowa.md]
**Kategoria:** #Status

-   **Roadmapa Q4 2025:** Komunikator uznany za wdro≈ºony (do weryfikacji).

---

## 2025-11-17 | Planowanie sprintu
**≈πr√≥d≈Ço:** [Notatki/Gotowe-notatki-archiwum/2025-11-17 Planowanie sprintu.md](../../../../Notatki/Gotowe-notatki-archiwum/2025-11-17%20Planowanie%20sprintu.md)
**Kategoria:** #Wydanie #Architektura #Chmura

- Finalizacja wdro≈ºenia (poprawki drobnych b≈Çƒôd√≥w niefunkcjonalnych).
- Architektura: komunikator wsp√≥≈Çdzieli bazƒô danych z AMODIT (wym√≥g wdro≈ºe≈Ñ chmurowych).
- Chmura: wymagane zmiany pod obs≈Çugƒô chmury (pobieranie danych organizacji z osobnej bazy) - temat koncepcyjny na przysz≈Ço≈õƒá.
- Konieczno≈õƒá podpiƒôcia certyfikat√≥w i konfiguracji.

---

## 2025-11-14 | Spotkanie projektowe
**≈πr√≥d≈Ço:** [Notatki/Gotowe-notatki-archiwum/2025-11-14 Spotkanie projektowe - Repozytorium.md](../../../../Notatki/Gotowe-notatki-archiwum/2025-11-14%20Spotkanie%20projektowe%20-%20Repozytorium.md)
**Kategoria:** #Infrastruktura #Problem

- **Certyfikaty:** Problem z certyfikatami przy komunikacji lokalnej (HTTP vs HTTPS) na serwerach klienta.
- **Wymaganie:** Klient musi dostarczyƒá certyfikaty do osadzenia lokalnie.

---

## 2025-11-13 | Spotkanie projektowe
**≈πr√≥d≈Ço:** [Notatki/Gotowe-notatki-archiwum/2025-11-13 Notatka projektowa - Edytor proces√≥w.md](../../../../Notatki/Gotowe-notatki-archiwum/2025-11-13%20Notatka%20projektowa%20-%20Edytor%20proces√≥w.md)
**Kategoria:** #Wydanie #Bug

- Komunikator skutecznie zainstalowany w Zimbrze u klienta.
- Zidentyfikowano drobny b≈ÇƒÖd (wyskakuje w jednym momencie) do naprawy przez Mateusza.
- Zaplanowano prezentacjƒô dla klienta na dzie≈Ñ nastƒôpny.

---

## 2025-11-12 | Spotkanie projektowe
**≈πr√≥d≈Ço:** [Notatki/Gotowe-notatki-archiwum/2025-11-12 Spotkanie projektowe - PrzeglƒÖd wycen.md]
**Kategoria:** #Bug #Zadanie

- B≈Çƒôdy w komunikatorze wymagajƒÖce poprawy w obecnym sprincie.
- Przyk≈Çad: wys≈Çana wiadomo≈õƒá nie pojawia siƒô od razu.

---

## 2025-11-07 | Planowanie Sprintu
**≈πr√≥d≈Ço:** [Notatki/Gotowe-notatki-archiwum/2025-11-07 Planowanie sprintu.md]
**Kategoria:** #Funkcjonalno≈õƒá #Bug

- Mateusz ko≈Ñczy prace nad komunikatorem dla WIM.
- Zg≈Çoszono drobne b≈Çƒôdy niefunkcjonalne (przesuwanie, zmiana nazwy).
- Funkcjonalno≈õƒá grup dzia≈Ça poprawnie.

---

## 2025-10-31 | Planowanie Sprintu
**≈πr√≥d≈Ço:** [Notatki/Gotowe-notatki-archiwum/2025-10-31 Planowanie sprintu.md]
**Kategoria:** #Zadanie #Ryzyko

- Mateusz pracuje nad komunikatorem (oraz repozytorium).
- Ryzyko prze≈Çadowania Mateusza pracƒÖ.

---

## 2025-10-20 | Sprint review
**≈πr√≥d≈Ço:** [Notatki/Gotowe-notatki-archiwum/2025-10-20 Sprint review-codex.md]
**Kategoria:** #Funkcjonalno≈õƒá

- Opcja tworzenia konwersacji opartej o grupƒô mod√≥w (model)
- Automatyczna synchronizacja uprawnie≈Ñ w komunikatorze na podstawie zmian w grupie
- Planowane dodanie nazwy grupy w interfejsie

---

## 2025-10-06 | Sprint review
**≈πr√≥d≈Ço:** [Notatki/Gotowe-notatki-archiwum/2025-10-06 Sprint review.md]
**Kategoria:** #Funkcjonalno≈õƒá #Design

- Poprawki wizualne komunikatora (upodobnienie do konwersacji tekstowej, awatary)
- Uproszczenie formy tworzenia konwersacji (prywatne/grupowe), brak ≈õcie≈ºki dla komunikatora

---

## 2025-09-22 | Sprint Review
**≈πr√≥d≈Ço:** [Notatki/Gotowe-notatki-archiwum/2025-09-22 Sprint review.md](../../../../Notatki/Gotowe-notatki-archiwum/2025-09-22%20Sprint%20review.md)
**Kategoria:** üöÄ Postƒôp

- **Poprawki wizualne:** realizacja kilkunastu zg≈Çosze≈Ñ (stabilizacja MVP).
- **Status:** wersja bliska ostatecznej/stabilnej, pozosta≈Ço kilka kluczowych element√≥w wizualnych i 3-4 otwarte zg≈Çoszenia.
- **Plan:** prezentacja wersji stabilnej przewidziana jeszcze w tym tygodniu.

---

## 2025-08-25 - Sprint review

**≈πr√≥d≈Ço:** [[../../../../Notatki/Gotowe-notatki-archiwum/2025-08-25 Sprint review|2025-08-25 Sprint review]]

**Kategoria:** #Design #Feedback

**Prezentacja:** Anna Kicior

**Status wdro≈ºenia:**
Komunikator (AMODIT Talk) dzia≈Ça, jest gotowy do odbioru przez WIM. To MVP (wersja minimalna) pozwalajƒÖca zaliczyƒá wymaganie klienta.

**Feedback z demo - do dopracowania:**
- **Ujednolicenie nazewnictwa:** przejrzenie wszystkich ekran√≥w i ujednolicenie nazw (jedna nazwa wszƒôdzie: "komunikator" lub "AMODIT Talk")
- **Dodanie awatar√≥w:** implementacja awatar√≥w u≈ºytkownik√≥w
- **Limit znak√≥w:** dodanie limitu znak√≥w na pojedynczƒÖ wiadomo≈õƒá
- **Ujednolicenie komponent√≥w:** u≈ºycie standardowych komponent√≥w AMODIT (np. search)
- **Pe≈Çna zgodno≈õƒá WCAG:** dopracowanie zgodno≈õci z WCAG dla niewidomych u≈ºytkownik√≥w
- **Integracja log√≥w:** rozwa≈ºenie przeniesienia log√≥w do standardowych log√≥w AMODIT lub dodanie linku/prze≈ÇƒÖcznika miƒôdzy logami

**Decyzje:**
- Nazwij to "AMODIT Talk" dla konsystencji marketingowej (bƒôdzie u≈ºywane w chwaleniu siƒô nowym produktem)
- MVP mo≈ºe i≈õƒá do odbioru, dalsze upiƒôkszanie i ulepszanie po akceptacji

**Kontekst biznesowy:**
Realizowane dla WIM - minimalna wersja wystarczajƒÖca do zaliczenia wymagania klienta. Pan Piotr Murawski zaakceptowa≈Ç MVP.

---

## 2025-08-12 | Notatka projektowa
**≈πr√≥d≈Ço:** [Notatki/Gotowe-notatki-archiwum/2025-08-12 Notatka projektowa - Komunikator (AMODIT Talk).md](../../../../Notatki/Gotowe-notatki-archiwum/2025-08-12%20Notatka%20projektowa%20-%20Komunikator%20(AMODIT%20Talk).md)

**Kategoria:** #Architektura

**1. Architektura komunikatora ‚Äì osobna aplikacja vs czƒô≈õƒá AMODIT** ‚úÖ
- **Wybrana:** Osobna aplikacja SignalR (izolacja od g≈Ç√≥wnego systemu, lepsza wydajno≈õƒá)
- ‚ùå Odrzucona: Modu≈Ç wbudowany w AMODIT (obciƒÖ≈ºa≈Çby g≈Ç√≥wnƒÖ instancjƒô)
- Musi dzia≈Çaƒá w on-premises i chmurze (SaaS) bez dw√≥ch wersji kodu
- Automatyczne wykrywanie trybu pracy (lokalny vs chmurowy)
- W chmurze: adresy `*.amodit.com` (gwiazdka = ID organizacji)
- **Ograniczenie:** Nie promowany jako osobny produkt, nie konkurencja dla Teams/Slack

**3. Model danych ‚Äì tabele i nazewnictwo** ‚úÖ
- Osobne tabele w osobnej bazie danych (lub w bazie AMODIT jako osobne)
- Tabele: `ChatMessages`, `Chat`, `ChatUsers`, `__EFMigrationsHistory`
- Nazwy kolumn: konwencja Entity Framework (zmiana wymaga≈Çaby migracji)
- ‚è∏Ô∏è Do rozwa≈ºenia: Czy tabela `Users` jest potrzebna (mo≈ºe tylko dane z AMODIT)?

**6. Problem z farmƒÖ serwer√≥w ‚Äì przechowywanie kod√≥w jednorazowych** ‚úÖ
- ‚ùå Kody w pamiƒôci RAM - nie dzia≈Ça w farmie serwer√≥w
- ‚úÖ Kody w bazie danych - wsp√≥lne dla wszystkich serwer√≥w (Load Balancing)
- Mo≈ºliwe wykorzystanie istniejƒÖcej tabeli do zaprosze≈Ñ/powiadomie≈Ñ (GUID)
- Filtrowanie kod√≥w przez czas (np. ostatnie 3h) dla wydajno≈õci

**8. Proces projektowy ‚Äì potrzeba akceptacji architektonicznej** ‚úÖ
- Projekt zaimplementowany bez wcze≈õniejszej akceptacji na Radzie Architekt√≥w
- ‚úÖ Kontynuacja z dopracowaniem zgodno≈õci z filozofiƒÖ AMODIT
- ‚ùå Odrzucone: Cofniƒôcie i przeprojektowanie (zbyt kosztowne przy tygodniu pracy)
- **Wniosek:** Przysz≈Çe projekty powinny przej≈õƒá przez akceptacjƒô architektonicznƒÖ przed implementacjƒÖ

**Kategoria:** #Bezpiecze≈Ñstwo

**4. Szyfrowanie wiadomo≈õci ‚Äì klucze szyfrowania** üîç
- Wszystkie wiadomo≈õci szyfrowane przed zapisem do bazy
- **On-premises:** Klucz w pliku konfiguracyjnym ‚úÖ
- **Chmura:** Klucz per organizacja (tenant) - izolacja bezpiecze≈Ñstwa
- üí° Do weryfikacji: Gdzie przechowywaƒá klucze w chmurze (baza danych vs Azure Key Vault)?

**5. Uwierzytelnianie ‚Äì JWT i jednorazowe kody (OTP)** ‚úÖ
- ‚ùå Odrzucone: Token JWT w URL (niebezpieczne)
- ‚ùå Odrzucone: Ciasteczka sesyjne (problemy z r√≥≈ºnymi domenami)
- ‚úÖ Wybrana: JWT przez jednorazowy kod (OTP)
- **Flow:**
  1. U≈ºytkownik klika "Otw√≥rz komunikator" ‚Üí przekierowanie do `/JWT Login`
  2. AMODIT generuje jednorazowy kod
  3. Przekierowanie do komunikatora z kodem w Query String
  4. Komunikator wymienia kod na token JWT (endpoint `Generate`)
  5. Token JWT u≈ºywany do dalszych ≈ºƒÖda≈Ñ
- Kod jednorazowy aktywny tylko raz
- Obs≈Çuga Windows Auth (Integrated) w on-premises

**Kategoria:** #Funkcjonalno≈õƒá

**2. Konfiguracja ‚Äì Connection String i mechanizm pobierania organizacji** üîç
- **On-premises:** Connection String w `appsettings` ‚úÖ
- **Chmura:** Dynamiczne pobieranie z bazy centralnej (lista organizacji)
- System automatycznie wykrywa tryb pracy
- üí° Do weryfikacji: Connection String do bazy AMODIT czy osobnej bazy komunikatora?

**7. Integracja z AMODIT ‚Äì pobieranie listy u≈ºytkownik√≥w** üîç
- **Obecne:** Wewnƒôtrzny `UsersController` przez JWT ‚úÖ
- ‚è∏Ô∏è Odroczone: REST API zewnƒôtrzne (brak opcji pobrania listy u≈ºytkownik√≥w)
- üí° Propozycja: Rozszerzenie REST API o endpoint dla listy u≈ºytkownik√≥w

**Kategoria:** #Roadmap

**MVP 1: Stabilizacja On-Premises i bezpiecze≈Ñstwo**
- Osobna aplikacja SignalR
- Konwersacje prywatne/grupowe, wzmiankowanie (@), infinite scroll
- Wymiana OTP na JWT (eliminacja tokenu z URL)
- Przeniesienie OTP z RAM do bazy danych (farma serwer√≥w)
- Szyfrowanie z kluczem z konfiguracji

**MVP 2: Wsparcie ≈õrodowiska chmurowego (SaaS)**
- Dynamiczne pobieranie konfiguracji z bazy centralnej (ID organizacji)
- Klucze szyfrowania per organizacja (tenant)
- Automatyczne wykrywanie trybu (on-premises vs chmura)
- Obs≈Çuga adres√≥w `*.amodit.com`

---

## 2025-06-26 | Rada architekt√≥w
**≈πr√≥d≈Ço:** [Notatki/Gotowe-notatki-archiwum/2025-06-26 Rada architekt√≥w.md](../../../../Notatki/Gotowe-notatki-archiwum/2025-06-26%20Rada%20architekt√≥w.md)

**Kategoria:** #Problem

- **Ryzyka zidentyfikowane:**
  - Wydajno≈õƒá: ciƒÖg≈Çy polling (odpytywanie serwera) przez wiele otwartych kart mo≈ºe zabiƒá serwery
  - Licencje: biblioteki Open Source (np. Matrix) czƒôsto GPL v3, wymusza≈Çoby udostƒôpnienie kodu AMODIT

**Kategoria:** #Architektura

- **Rozwa≈ºane alternatywy:**
  - W≈Çasna implementacja w AMODIT (rozbudowa komentarzy o real-time) - ‚è∏Ô∏è Odroczona (ryzyko wydajno≈õciowe, du≈ºy nak≈Çad)
  - Integracja z gotowym rozwiƒÖzaniem Open Source (Matrix + iframe/API) - üí° Propozycja wiodƒÖca (pod warunkiem licencji MIT)
- **Decyzja:** ‚è∏Ô∏è Odroczone - temat "zaparkowany" do czasu zebrania wymaga≈Ñ i znalezienia odpowiedniej technologii (bezpiecznej licencyjnie i wydajno≈õciowo)

---

